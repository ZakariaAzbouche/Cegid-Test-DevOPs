<template>
    <lightning-spinner
        if:false={hasProduct}
        class="slds-is-relative slds-align_absolute-center slds-m-around_large"
        alternative-text="Chargement du produit en cours..."
        size="medium"
        variant="brand"
    >
    </lightning-spinner>
    <c-product-details-display
        if:true={hasProduct}
        cart-locked={_isCartLocked}
        category-path={displayableProduct.categoryPath}
        custom-fields={displayableProduct.customFields}
        description={displayableProduct.description}
        image={displayableProduct.image}
        in-stock={displayableProduct.inStock}
        name={displayableProduct.name}
        price={displayableProduct.price}
        sku={displayableProduct.sku}
        onaddtocart={addToCart}
        oncreateandaddtolist={createAndAddToList}
        record-id={recordId}
        cart-id={cartId}
    >
    </c-product-details-display>


    <template if:true={openModal}>
      <!-- Modal/Popup Box LWC starts here -->
      <section role="dialog" tabindex="-1" aria-labelledby="modal-heading-01" aria-modal="true" aria-describedby="modal-content-id-1" class="slds-modal slds-fade-in-open">
          <div class="slds-modal__container">
              <!-- Modal/Popup Box LWC header here -->
              <header class="slds-modal__header">
                  <button class="slds-button slds-button_icon slds-modal__close slds-button_icon-inverse" title="Fermer" onclick={closeModal}>
                      <lightning-icon icon-name="utility:close"
                          alternative-text="close"
                          variant="inverse"
                          size="small" ></lightning-icon>
                      <span class="slds-assistive-text">Fermer</span>
                  </button>
              </header>
              <!-- Modal/Popup Box LWC body starts here -->
              <div class="slds-modal__content slds-p-around_medium" id="modal-content-id-1">
                <center>
                  <P class="warningMsg ">{label.guestmessage}</P>
                </center>
              </div>
              <!-- Modal/Popup Box LWC footer starts here -->
              <footer class="slds-modal__footer ">
                <lightning-button icon-name="utility:close" label="Je m'authentifie" variant="brand" onclick={closeModalRedirect}>  
                </lightning-button>
              </footer>
          </div>
      </section>
      <div class="slds-backdrop slds-backdrop_open"></div>
  </template>

      
</template>